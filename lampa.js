"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,a,i){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return _regeneratorDefine2(l,"_invoke",function(n,r,a){var i,c,s,l=0,u=a||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,c=0,s=e,f.n=n,o}};function d(n,r){for(c=n,s=r,t=0;!p&&l&&!a&&t<u.length;t++){var a,i=u[t],d=f.p,h=i[2];n>3?(a=h===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((a=n<2&&d<i[1])?(c=0,f.v=r,f.n=i[1]):d<h&&(a=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,c=0))}if(a||n>1)return o;throw p=!0,r}return function(a,u,h){if(l>1)throw TypeError("Generator is already running");for(p&&1===u&&d(u,h),c=u,s=h;(t=c<2?e:s)||!p;){i||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(l=2,i){if(c||(a="next"),t=i[a]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);i=e}else if((t=(p=f.n<0)?s:n.call(r,f))!==o)break}catch(t){i=e,c=1,s=t}finally{l=1}}return{value:t,done:p}}}(n,a,i),!0),l}var o={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_regeneratorDefine2(t={},r,(function(){return this})),t),p=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_regeneratorDefine2(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=l,_regeneratorDefine2(p,"constructor",l),_regeneratorDefine2(l,"constructor",s),s.displayName="GeneratorFunction",_regeneratorDefine2(l,a,"GeneratorFunction"),_regeneratorDefine2(p),_regeneratorDefine2(p,a,"Generator"),_regeneratorDefine2(p,r,(function(){return this})),_regeneratorDefine2(p,"toString",(function(){return"[object Generator]"})),(_regenerator=function(){return{w:i,m:f}})()}function _regeneratorDefine2(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}_regeneratorDefine2=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){_regeneratorDefine2(e,t,(function(e){return this._invoke(t,n,e)}))};i("next",0),i("throw",1),i("return",2)}},_regeneratorDefine2(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){asyncGeneratorStep(i,r,a,o,c,"next",e)}function c(e){asyncGeneratorStep(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e,t,n){!function(){var e="AdultJS";Lampa.Lang.add({lampac_adultName:{ru:"Для взрослых",en:"Adult 18+",uk:"Для взрослых",zh:"Adult 18+"}});var t,n,r=new Lampa.Reguest;function a(e){var t,n=Lampa.Storage.get("video_quality_default","1080")+"p";if(e){for(var r in e)0==r.indexOf(n)&&(t=e[r]);t||(t=e[Lampa.Arrays.getKeys(e)[0]])}return t}function i(){if(clearTimeout(t),n){var e,r=n.find("video");try{e=r.pause()}catch(e){}void 0!==e&&e.then((function(){})).catch((function(e){})),n.addClass("hide"),n=!1}}var o,c={sourceTitle:function(e){return Lampa.Utils.capitalizeFirstLetter(e.split(".")[0])},play:function(e){var t=Lampa.Controller.enabled().name;if(e.json)Lampa.Loading.start((function(){r.clear(),Lampa.Loading.stop()})),s.qualitys(e.video,(function(n){if(n.error)return Lampa.Noty.show(Lampa.Lang.translate("torrent_parser_nofiles")),void Lampa.Loading.stop();var r=n.qualitys||n,i=n.recomends||[];Lampa.Loading.stop();var o={title:e.name,url:a(r),url_reserve:!!n.qualitys_proxy&&a(n.qualitys_proxy),quality:r,headers:n.headers_stream};Lampa.Player.play(o),i.length?(i.forEach((function(e){e.title=Lampa.Utils.shortText(e.name,50),e.icon='<img class="size-youtube" src="'+e.picture+'" />',e.template="selectbox_icon",e.url=function(t){e.json?s.qualitys(e.video,(function(n){e.quality=n.qualitys,e.url=a(n.qualitys),n.qualitys_proxy&&(e.url_reserve=a(n.qualitys_proxy)),t()})):(e.url=e.video,t())}})),Lampa.Player.playlist(i)):Lampa.Player.playlist([o]),Lampa.Player.callback((function(){Lampa.Controller.toggle(t)}))}),(function(){Lampa.Noty.show(Lampa.Lang.translate("torrent_parser_nofiles")),Lampa.Loading.stop()}));else{var n={title:e.name,url:a(e.qualitys)||e.video,url_reserve:a(e.qualitys_proxy)||e.video_reserve||"",quality:e.qualitys};Lampa.Player.play(n),Lampa.Player.playlist([n]),Lampa.Player.callback((function(){Lampa.Controller.toggle(t)}))}},fixCards:function(e){e.forEach((function(e){e.background_image=e.picture,e.poster=e.picture,e.img=e.picture,e.name=Lampa.Utils.capitalizeFirstLetter(e.name).replace(/\&(.*?);/g,"")}))},preview:function(e,r){i(),t=setTimeout((function(){if(r.preview&&Lampa.Storage.field("sisi_preview")){var t,a=e.find("video"),i=e.find(".sisi-video-preview");a||(a=document.createElement("video"),(i=document.createElement("div")).addClass("sisi-video-preview"),i.style.position="absolute",i.style.width="100%",i.style.height="100%",i.style.left="0",i.style.top="0",i.style.overflow="hidden",i.style.borderRadius="1em",a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.left="0",a.style.top="0",a.style.objectFit="cover",i.append(a),e.find(".card__view").append(i),a.src=r.preview,a.addEventListener("ended",(function(){i.addClass("hide")})),a.load()),n=i;try{t=a.play()}catch(e){}void 0!==t&&t.then((function(){})).catch((function(e){})),i.removeClass("hide")}}),1500)},hidePreview:i,fixList:function(e){return e.forEach((function(e){!e.quality&&e.time&&(e.quality=e.time)})),e},menu:function(t,n){var r=[];n.related&&r.push({title:"Похожие",related:!0}),n.model&&r.push({title:n.model.name,model:!0}),Lampa.Select.show({title:"Меню",items:r,onSelect:function(t){t.model?Lampa.Activity.push({url:n.model.uri,title:"Модель - "+n.model.name,component:"sisi_view_"+e,page:1}):t.related&&Lampa.Activity.push({url:n.video+"&related",title:"Похожие - "+n.title,component:"sisi_view_"+e,page:1})},onBack:function(){Lampa.Controller.toggle("content")}})}};var s=new function(){var e=this,t=new Lampa.Reguest;this.menu=function(e,t){if(o)return e(o);var n=AdultJS.Menu();n?e(o=n):t(n.msg)},this.view=function(e,t,n){AdultJS.Invoke(Lampa.Utils.addUrlComponent(e.url,"pg="+(e.page||1))).then((function(e){e.list?(e.results=c.fixList(e.list),e.collection=!0,e.total_pages=e.total_pages||30,c.fixCards(e.results),delete e.list,t(e)):n()})).catch((function(){console.log("AdultJS","no load",e.url),n()}))},this.playlist=function(t,n,r){var a=function(){var e=new Lampa.Status(o.length);e.onComplite=function(e){var t=[];o.forEach((function(n){e[n.playlist_url]&&e[n.playlist_url].results.length&&t.push(e[n.playlist_url])})),t.length?n(t):r()},o.forEach((function(n,r){var a=-1!==n.playlist_url.indexOf("?")?"&":"?",i=-1!==t.indexOf("?")||-1!==t.indexOf("&")?t.substring(1):t,o=!1,s=setTimeout((function(){o=!0,e.error()}),8e3);AdultJS.Invoke(n.playlist_url+a+i).then((function(t){clearTimeout(s),o||(t.list?(t.title=c.sourceTitle(n.title),t.results=c.fixList(t.list),t.url=n.playlist_url,t.collection=!0,t.line_type="none",t.card_events={onMenu:c.menu,onEnter:function(e,t){c.hidePreview(),c.play(t)}},c.fixCards(t.results),delete t.list,e.append(n.playlist_url,t)):e.error())})).catch((function(){console.log("AdultJS","no load",n.playlist_url+a+i),clearTimeout(s),e.error()}))}))};o?a():e.menu(a,r)},this.main=function(e,t,n){this.playlist("",t,n)},this.search=function(e,t,n){this.playlist("?search="+encodeURIComponent(e.query),t,n)},this.qualitys=function(e,t,n){AdultJS.Invoke(e).then(t).catch((function(t){console.log("AdultJS","no load",e),n()}))},this.clear=function(){t.clear()}};function l(t){var n=new Lampa.InteractionMain(t);return n.create=function(){return this.activity.loader(!0),s.main(t,this.build.bind(this),this.empty.bind(this)),this.render()},n.empty=function(e){var t=this,n=new Lampa.Empty({descr:"string"==typeof e?e:Lampa.Lang.translate("empty_text_two")});Lampa.Activity.all().forEach((function(e){t.activity==e.activity&&e.activity.render().find(".activity__body > div")[0].appendChild(n.render(!0))})),this.start=n.start,this.activity.loader(!1),this.activity.toggle()},n.onMore=function(t){Lampa.Activity.push({url:t.url,title:t.title,component:"sisi_view_"+e,page:2})},n.onAppend=function(e,t){e.onAppend=function(e){var t=e.onFocus;e.onFocus=function(e,n){t(e,n),c.preview(e,n)}}},n}function u(t){var n,r=new Lampa.InteractionCategory(t);return r.create=function(){var e=this;this.activity.loader(!0),s.view(t,(function(t){(n=t.menu)&&n.forEach((function(e){var t=e.title.split(":");e.title=t[0].trim(),t[1]&&(e.subtitle=Lampa.Utils.capitalizeFirstLetter(t[1].trim().replace(/all/i,"Любой"))),e.submenu&&e.submenu.forEach((function(e){e.title=Lampa.Utils.capitalizeFirstLetter(e.title.trim().replace(/all/i,"Любой"))}))})),e.build(t)}),this.empty.bind(this))},r.nextPageReuest=function(e,t,n){s.view(e,t.bind(this),n.bind(this))},r.cardRender=function(e,t,n){n.onMenu=function(e,t){return c.menu(e,t)},n.onEnter=function(){c.hidePreview(),c.play(t)};var r=n.onFocus;n.onFocus=function(e,n){r(e,n),c.preview(e,t)}},r.filter=function(){if(n){var a=n.filter((function(e){return!e.search_on})),i=n.find((function(e){return e.search_on}));if(i||(i=t.search_start),!a.length&&!i)return;i&&Lampa.Arrays.insert(a,0,{title:"Найти",onSelect:function(){$("body").addClass("ambience--enable"),Lampa.Input.edit({title:"Поиск",value:"",free:!0,nosave:!0},(function(t){if($("body").removeClass("ambience--enable"),Lampa.Controller.toggle("content"),t){var n=-1!==i.playlist_url.indexOf("?")?"&":"?";Lampa.Activity.push({url:i.playlist_url+n+"search="+encodeURIComponent(t),title:"Поиск - "+t,component:"sisi_view_"+e,search_start:i,page:1})}}))}}),Lampa.Select.show({title:"Фильтр",items:a,onBack:function(){Lampa.Controller.toggle("content")},onSelect:function(a){n.forEach((function(e){e.selected=e==a})),a.submenu?Lampa.Select.show({title:a.title,items:a.submenu,onBack:function(){r.filter()},onSelect:function(n){Lampa.Activity.push({title:t.title,url:n.playlist_url,component:"sisi_view_"+e,page:1})}}):r.filter()}})}},r.onRight=r.filter.bind(r),r}window["plugin_adultjs_"+e+"_ready"]||function(){function t(){var t=$('<li class="menu__item selector" data-action="adultjs">\n            <div class="menu__ico">\n                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 29.461 29.461" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M28.855 13.134c-.479 0-.91-.197-1.371-.452-1.671 7.509-10.383 11.899-12.765 12.972-2.514-1.125-12.034-5.916-12.963-14.188-.043.029-.088.056-.132.084-.411.269-.797.523-1.299.523-.064 0-.121-.029-.184-.038C1.586 22.377 14.72 27.47 14.72 27.47s12.227-4.74 14.386-14.362a1.397 1.397 0 0 1-.251.026z" fill="currentColor" ></path><path d="M29.379 8.931C28.515-.733 16.628.933 14.721 6.432 12.814.932.928-.733.062 8.931c-.397 4.426 1.173.063 3.508 1.205 1.008.494 1.99 2.702 3.356 2.974 1.998.397 3.109-1.551 4.27-1.631 3.174-.222 2.394 6.596 5.424 5.586 1.961-.653 2.479-3.016 4.171-2.806 1.582.195 3.296-3.711 4.78-3.571 2.471.23 4.305 3.786 3.808-1.757z" fill="currentColor" ></path><path d="M14.894 21.534c2.286 0-.929-3.226-.588-4.511-1.994 1.276-1.697 4.511.588 4.511z" fill="currentColor"></path></g></svg>\n            </div>\n            <div class="menu__text">'+Lampa.Lang.translate("lampac_adultName")+"</div>\n        </li>"),n=$("<div>JS</div>");n.css({position:"absolute",right:"-0.4em",bottom:"-0.4em",color:"#fff",fontSize:"0.6em",borderRadius:"0.5em",fontWeight:900,textTransform:"uppercase"}),t.find(".menu__ico").css("position","relative").append(n),t.on("hover:enter",(function(){Lampa.ParentalControl.query((function(){s.menu((function(t){var n=[];t.forEach((function(e){e.title=c.sourceTitle(e.title)})),n=n.concat(t),Lampa.Select.show({title:"Сайты",items:n,onSelect:function(t){t.playlist_url?Lampa.Activity.push({url:t.playlist_url,title:t.title,component:"sisi_view_"+e,page:1}):Lampa.Activity.push({url:"",title:Lampa.Lang.translate("lampac_adultName"),component:"sisi_"+e,page:1})},onBack:function(){Lampa.Controller.toggle("menu")}})}),(function(){}))}),(function(){}))})),$(".menu .menu__list").eq(0).append(t),function(){var t,n,r=$('<div class="head__action head__settings selector">\n            <svg height="36" viewBox="0 0 38 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <rect x="1.5" y="1.5" width="35" height="33" rx="1.5" stroke="currentColor" stroke-width="3"></rect>\n                <rect x="7" y="8" width="24" height="3" rx="1.5" fill="currentColor"></rect>\n                <rect x="7" y="16" width="24" height="3" rx="1.5" fill="currentColor"></rect>\n                <rect x="7" y="25" width="24" height="3" rx="1.5" fill="currentColor"></rect>\n                <circle cx="13.5" cy="17.5" r="3.5" fill="currentColor"></circle>\n                <circle cx="23.5" cy="26.5" r="3.5" fill="currentColor"></circle>\n                <circle cx="21.5" cy="9.5" r="3.5" fill="currentColor"></circle>\n            </svg>\n        </div>');r.hide().on("hover:enter",(function(){t&&t.activity.component().filter()})),$(".head .open--search").after(r),Lampa.Listener.follow("activity",(function(a){"start"==a.type&&(t=a.object),clearTimeout(n),n=setTimeout((function(){t&&t.component!=="sisi_view_"+e&&(r.hide(),t=!1)}),1e3),"start"==a.type&&a.component=="sisi_view_"+e&&(r.show(),t=a.object)}))}(),window.sisi_add_param_ready||(window.sisi_add_param_ready=!0,Lampa.SettingsApi.addComponent({component:"AdultJS",name:Lampa.Lang.translate("lampac_adultName"),icon:'<svg width="200" height="243" viewBox="0 0 200 243" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M187.714 130.727C206.862 90.1515 158.991 64.2019 100.983 64.2019C42.9759 64.2019 -4.33044 91.5669 10.875 130.727C26.0805 169.888 63.2501 235.469 100.983 234.997C138.716 234.526 168.566 171.303 187.714 130.727Z" stroke="currentColor" stroke-width="15"/><path d="M102.11 62.3146C109.995 39.6677 127.46 28.816 169.692 24.0979C172.514 56.1811 135.338 64.2018 102.11 62.3146Z" stroke="currentColor" stroke-width="15"/><path d="M90.8467 62.7863C90.2285 34.5178 66.0667 25.0419 31.7127 33.063C28.8904 65.1461 68.8826 62.7863 90.8467 62.7863Z" stroke="currentColor" stroke-width="15"/><path d="M100.421 58.5402C115.627 39.6677 127.447 13.7181 85.2149 9C82.3926 41.0832 83.5258 35.4214 100.421 58.5402Z" stroke="currentColor" stroke-width="15"/><rect x="39.0341" y="98.644" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/><rect x="90.8467" y="92.0388" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/><rect x="140.407" y="98.644" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/><rect x="116.753" y="139.22" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/><rect x="64.9404" y="139.22" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/><rect x="93.0994" y="176.021" width="19.1481" height="30.1959" rx="9.57407" fill="currentColor"/></svg>'}),Lampa.SettingsApi.addParam({component:"AdultJS",param:{name:"sisi_preview",type:"trigger",values:"",default:!0},field:{name:"Предпросмотр",description:"Показывать предпросмотр при наведение на карточку"},onRender:function(e){}}))}window["plugin_adultjs_"+e+"_ready"]=!0,Lampa.Component.add("sisi_"+e,l),Lampa.Component.add("sisi_view_"+e,u),window.appready?t():Lampa.Listener.follow("app",(function(e){"ready"==e.type&&t()}))}()}();var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"ensureUserAgent",value:function(e){return e?_objectSpread({},e):{}}},{key:"Get",value:(t=_asyncToGenerator(_regenerator().m((function t(n,r){var a,i,o;return _regenerator().w((function(t){for(;;)switch(t.n){case 0:return a=e.ensureUserAgent(r),i={method:"GET",headers:a},t.n=1,fetch(n,i);case 1:return o=t.v,t.n=2,o.text();case 2:return t.a(2,t.v)}}),t)}))),function(e,n){return t.apply(this,arguments)})}]);var t}(),a=function(){return _createClass((function e(){_classCallCheck(this,e)}),null,[{key:"extract",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=(null===(n=e.match(t))||void 0===n?void 0:n[r])||null;return a&&""!==a.trim()?a.trim():null}}])}(),i=_createClass((function e(t,n,r,a,i,o,c,s){_classCallCheck(this,e),this.name=t,this.video=n,this.picture=r,this.preview=a,this.time=i,this.quality=o,this.json=c,this.related=s})),o=_createClass((function e(t,n,r,a){_classCallCheck(this,e),this.title=t,this.playlist_url=n,r&&(this.search_on=r),a&&(this.submenu=a)})),c=_createClass((function e(t,n){_classCallCheck(this,e),n?(this.total_pages=1,this.list=t.recomends):(this.qualitys=t.qualitys,this.recomends=t.recomends)})),s=_createClass((function e(t,n){_classCallCheck(this,e),this.qualitys=t,this.recomends=n})),l=(e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"Invoke",value:(t=_asyncToGenerator(_regenerator().m((function e(t){var n,a,i,o;return _regenerator().w((function(e){for(;;)switch(e.n){case 0:if(n=new URL(t.replace("pg=","page=").replace("c=&","").replace("o=&","")),a=n.searchParams,!(n.href.indexOf("viewkey=")>=0)){e.n=2;break}return e.n=1,r.Get(n.href.replace("&page=1","").replace("&related",""));case 1:return i=e.v,e.a(2,new c(this.StreamLinks(i),t.includes("&related")));case 2:return e.n=3,r.Get(n.href);case 3:return o=e.v,e.a(2,{menu:this.Menu(a),list:this.Playlist(o,!1)});case 4:return e.a(2)}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"Playlist",value:function(t,n){var r=null,o=[];if(n)if(t.includes('id="relatedVideos"')){var c=t.split('id="relatedVideos"');c.length>1&&(r=c[1].split("</ul>")[0])}else{var s=t.split('id="relatedVideosListing"');s.length>1&&(r=s[1].split("</ul>")[0])}else if(t.includes('id="videoCategory"')){var l=t.split('id="videoCategory"');l.length>1&&(r=l[1])}else if(t.includes("videoList clearfix browseVideo-tabSplit")){var u=t.split("videoList clearfix browseVideo-tabSplit");u.length>1&&(r=u[1])}else{var p=t.split(/id="(mostRecentVideosSection|moreData|content-tv-container|lazyVids|videoSearchResult)"/);p.length>2&&(r=p[2])}if(null==r)return o;for(var f=r.includes("pcVideoListItem ")?"pcVideoListItem ":r.includes("data-video-segment")?"data-video-segment":r.includes("<li data-id=")?"<li data-id=":"<li id=",d=r.split("<h2>Languages</h2>")[0].split("pageHeader")[0].split(f),h=1;h<d.length;h++){var w=d[h],m=a.extract(w,'(-|_)vkey="([^"]+)"',2)||a.extract(w,'viewkey=([^"]+)"');if(null!=m){var v=a.extract(w,'href="/[^"]+" title="([^"]+)"')||a.extract(w,'class="videoTitle">([^<]+)<')||a.extract(w,'href="/view_[^"]+" onclick=[^>]+>([^<]+)<');if(null!=v){var g=a.extract(w,'data-mediumthumb="(https?://[^"]+)"')||a.extract(w,'data-path="(https?://[^"]+)"');if(null!=(g=g?g.replace("{index}","3"):a.extract(w,'<img src="([^"]+)"'))){var y=a.extract(w,'data-mediabook="(https?://[^"]+)"')||a.extract(w,'data-webm="(https?://[^"]+)"'),_=a.extract(w,'<var class="duration">([^<]+)</var>')||a.extract(w,'class="time">([^<]+)<')||a.extract(w,'class="videoDuration floatLeft">([^<]+)<')||a.extract(w,'time">([^<]+)<');o.push(new i(v,e.host+"/view_video.php?viewkey="+m,g,y,_,null,!0,!0))}}}}return o}},{key:"StreamLinks",value:function(e){var t=this.getDirectLinks(e);return new s({auto:t.replace(/\\/g,"").replace("///","//")},this.Playlist(e,!0))}},{key:"getDirectLinks",value:function(e){var t=[],n=a.extract(e,'"hls","videoUrl":"([^"]+urlset\\\\/master\\.m3u[^"]+)"'),r=n||null;if(r)return r;for(var i=0,o=["1080","720","480","240"];i<o.length;i++){var c=o[i],s=a.extract(e,new RegExp('"hls","videoUrl":"([^"]+)","quality":"'.concat(c,'"'))),l=s||"";if(l)return l.replace(/\\/g,"").replace("///","//")}var u=e.split("player_mp4_seek")[1].split("<\/script>")[0];u=(u=u.replace(/\/\*[^/]+\*\//g,"")).replace('" + "',"");for(var p,f=/var ([^=]+)=([^;]+);/g;null!==(p=f.exec(u));)t.push([p[1],p[2].replace(/\"/g,"").replace(" + ","")]);for(var d,h=/var media_([0-9]+)=([^;]+);/g;null!==(d=h.exec(u));){var w,m="",v=_createForOfIteratorHelper(d[2].replace(/ /g,"").split("+"));try{var g=function(){var e,n=w.value,r=null===(e=t.find((function(e){return e[0]===n})))||void 0===e?void 0:e[1];if(void 0===r)return 1;m+=r};for(v.s();!(w=v.n()).done;)g()}catch(e){v.e(e)}finally{v.f()}if(m.includes("urlset/master.m3u8"))return m}return""}},{key:"Menu",value:function(t){var n=t.get("o")||"",r=t.get("c")||"",a=e.host+"/video",i=[new o("Недавно в избранном",a+"?c=".concat(r)),new o("Новейшее",a+"?c=".concat(r,"&o=cm")),new o("Самые горячие",a+"?c=".concat(r,"&o=ht")),new o("Лучшие",a+"?c=".concat(r,"&o=tr"))],c=[new o("Все",a+"?o=".concat(n)),new o("Женский Выбор",a+"?c=73&o=".concat(n)),new o("Русское",a+"?c=99&o=".concat(n)),new o("Немецкое",a+"?c=95&o=".concat(n)),new o("60FPS",a+"?c=105&o=".concat(n)),new o("Азиатки",a+"?c=1&o=".concat(n)),new o("Анальный секс",a+"?c=35&o=".concat(n)),new o("Арабское",a+"?c=98&o=".concat(n)),new o("БДСМ",a+"?c=10&o=".concat(n)),new o("Безобидный контент",a+"?c=221&o=".concat(n)),new o("Бисексуалы",a+"?c=76&o=".concat(n)),new o("Блондинки",a+"?c=9&o=".concat(n)),new o("Большая грудь",a+"?c=8&o=".concat(n)),new o("Большие члены",a+"?c=7&o=".concat(n)),new o("Бразильское",a+"?c=102&o=".concat(n)),new o("Британское",a+"?c=96&o=".concat(n)),new o("Брызги",a+"?c=69&o=".concat(n)),new o("Брюнетки",a+"?c=11&o=".concat(n)),new o("Буккаке",a+"?c=14&o=".concat(n)),new o("В школе",a+"?c=88&o=".concat(n)),new o("Веб-камера",a+"?c=61&o=".concat(n)),new o("Вечеринки",a+"?c=53&o=".concat(n)),new o("Гонзо",a+"?c=41&o=".concat(n)),new o("Грубый секс",a+"?c=67&o=".concat(n)),new o("Групповуха",a+"?c=80&o=".concat(n)),new o("Двойное проникновение",a+"?c=72&o=".concat(n)),new o("Девушки (соло)",a+"?c=492&o=".concat(n)),new o("Дрочит",a+"?c=20&o=".concat(n)),new o("Европейцы",a+"?c=55&o=".concat(n)),new o("Женский оргазм",a+"?c=502&o=".concat(n)),new o("Жесткий секс",a+"?c=21&o=".concat(n)),new o("За кадром",a+"?c=141&o=".concat(n)),new o("Звезды",a+"?c=12&o=".concat(n)),new o("Золотой дождь",a+"?c=211&o=".concat(n)),new o("Зрелые",a+"?c=28&o=".concat(n)),new o("Игрушки",a+"?c=23&o=".concat(n)),new o("Индийское",a+"?c=101&o=".concat(n)),new o("Итальянское",a+"?c=97&o=".concat(n)),new o("Кастинги",a+"?c=90&o=".concat(n)),new o("Колледж",a+"?c=79&o=".concat(n)),new o("Кончают",a+"?c=16&o=".concat(n)),new o("Корейское",a+"?c=103&o=".concat(n)),new o("Косплей",a+"?c=241&o=".concat(n)),new o("Красотки",a+"?c=5&o=".concat(n)),new o("Кремпай",a+"?c=15&o=".concat(n)),new o("Кунилингус",a+"?c=131&o=".concat(n)),new o("Курящие",a+"?c=91&o=".concat(n)),new o("Латинки",a+"?c=26&o=".concat(n)),new o("Любительское",a+"?c=3&o=".concat(n)),new o("Маленькая грудь",a+"?c=59&o=".concat(n)),new o("Мамочки",a+"?c=29&o=".concat(n)),new o("Массаж",a+"?c=78&o=".concat(n)),new o("Мастурбация",a+"?c=22&o=".concat(n)),new o("Межрассовый Секс",a+"?c=25&o=".concat(n)),new o("Минет",a+"?c=13&o=".concat(n)),new o("Мулаты",a+"?c=17&o=".concat(n)),new o("Мультики",a+"?c=86&o=".concat(n)),new o("Мускулистые Мужчины",a+"?c=512&o=".concat(n)),new o("На публике",a+"?c=24&o=".concat(n)),new o("Ноги",a+"?c=93&o=".concat(n)),new o("Няни",a+"?c=89&o=".concat(n)),new o("Пародия",a+"?c=201&o=".concat(n)),new o("Пенсионеры / подростки",a+"?c=181&o=".concat(n)),new o("Подростки",a+"?c=37&o=".concat(n)),new o("Попки",a+"?c=4&o=".concat(n)),new o("Приколы",a+"?c=32&o=".concat(n)),new o("Ретро",a+"?c=43&o=".concat(n)),new o("Рогоносцы",a+"?c=242&o=".concat(n)),new o("Ролевые Игры",a+"?c=81&o=".concat(n)),new o("Романтическое",a+"?c=522&o=".concat(n)),new o("Рыжие",a+"?c=42&o=".concat(n)),new o("Секс втроем",a+"?c=65&o=".concat(n)),new o("Секс-оргия",a+"?c=2&o=".concat(n)),new o("Семейные фантазии",a+"?c=444&o=".concat(n)),new o("Страпон",a+"?c=542&o=".concat(n)),new o("Стриптиз",a+"?c=33&o=".concat(n)),new o("Татуированные Женщины",a+"?c=562&o=".concat(n)),new o("Толстушки",a+"?c=6&o=".concat(n)),new o("Трансвеститы",a+"?c=83&o=".concat(n)),new o("Удовлетворение пальцами",a+"?c=592&o=".concat(n)),new o("Фетиш",a+"?c=18&o=".concat(n)),new o("Фистинг",a+"?c=19&o=".concat(n)),new o("Французское",a+"?c=94&o=".concat(n)),new o("Хентай",a+"?c=36&o=".concat(n)),new o("Чешское",a+"?c=100&o=".concat(n)),new o("Японцы",a+"?c=111&o=".concat(n))],s=i.find((function(e){return e.playlist_url.endsWith("&o=".concat(n))})),l=c.find((function(e){return e.playlist_url.endsWith("&c=".concat(r))}));return[new o("Поиск",a+"/search","search_on"),new o("Сортировка: "+(s?s.title:"Недавно в избранном"),"submenu",void 0,i),new o("Категория: "+(l?l.title:"Все"),"submenu",void 0,c)]}}]);var t}(),e.host="https://rt.pornhub.com",e),u=(t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"Invoke",value:(t=_asyncToGenerator(_regenerator().m((function e(t){var n;return _regenerator().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,r.Get(t.replace("?pg=1","").replace("pg=","page="));case 1:return n=e.v,e.a(2,{menu:this.Menu(t),list:this.Playlist(n)})}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"Playlist",value:function(e){var t=[];return e&&0!==e.length?(e.split(/class="(ls_thumb js-ls_thumb|mls_item mls_so_)/).forEach((function(e){var n=a.extract(e,/data-chathost="([^"]+)"/);if(n){var r=a.extract(e,/data-esid="([^"]+)"/);if(r){var o=a.extract(e,/this.src='\/\/([^']+\.(jpg))'/);if(o||(o=a.extract(e,/src="\/\/([^"]+)"/)),o){var c=a.extract(e,/lst_topic lst_data">(.*?)</);c||(c=n);var s=null;e.includes("__hd_plus __rt")?s="HD+":e.includes("__hd __rtl")&&(s="HD"),t.push(new i(c,"https://"+r+".bcvcdn.com/hls/stream_"+n+"/public-aac/stream_"+n+"/chunks.m3u8","https://"+o,null,null,s,!1,!1))}}}})),t):t}},{key:"Menu",value:function(t){var n=e.host+"/",r=[new o("Новые",n+"new-models"),new o("Пары",n+"couples"),new o("Девушки",n+"female"),new o("Парни",n+"male"),new o("Транссексуалы",n+"trans")],a=r.find((function(e){return t.includes(e.playlist_url.replace(n,""))}));return[new o("Сортировка: "+(a?a.title:"Новые"),"submenu",void 0,r)]}}]);var t}(),t.host="https://ukr.bongacams.com",t),p=(n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"Invoke",value:(t=_asyncToGenerator(_regenerator().m((function e(t){var n,a,i;return _regenerator().w((function(e){for(;;)switch(e.n){case 0:if(!(t.indexOf("/videos/")>=0)){e.n=2;break}return e.n=1,r.Get(t.replace("&related","").replace("?pg=1","").replace("&pg=1",""));case 1:return n=e.v,e.a(2,new c(this.StreamLinks(n),t.includes("&related")));case 2:return a="",a=t.includes("search=")?t.replace("?search=","/").replace("&search=","/").replace("&pg=","?page="):t.replace("?pg=","/").replace("&pg=","/"),e.n=3,r.Get(a);case 3:return i=e.v,e.a(2,{menu:t.includes("search=")?[]:this.Menu(t),list:this.Playlist(i)});case 4:return e.a(2)}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"Playlist",value:function(e){if(!e)return[];for(var t=(e.includes("mixed-section")?e.split("mixed-section")[1]:e).split(/(<div class="thumb-list__item video-thumb|thumb-list-mobile-item)/),n=[],r=1;r<t.length;r++){var a=t[r];if(a&&a.trim()&&!a.includes("badge_premium")){var o=/__nam[^\"]+\" href=\"(https?:\/\/[^\/]+\/[^\"]+)\"([^>]+)?>(<!--[^-]+-->)?([^<]*)/.exec(a),c=o&&o[4]?o[4]:"",s=o&&o[1]?o[1]:"";if(s&&c&&c.trim()){var l="",u=/data-role="video-duration"><[^>]+>([^<]+)/.exec(a);u&&u[1]&&(l=u[1]),l||(u=/datetime="([^\"]+)"/.exec(a))&&u[1]&&(l=u[1]);var p="";if((u=/srcset="([^\"]+)"/.exec(a))&&u[1]&&(p=u[1]),p.startsWith("http")||(u=/thumb-image-container__image" src="([^\"]+)"/.exec(a))&&u[1]&&(p=u[1].trim()),!p.startsWith("http"))continue;var f=a.includes("-uhd")?"4K":a.includes("-hd")?"HD":null,d=(u=/data-previewvideo="([^\"]+)"/.exec(a))&&u[1]?u[1]:"";n.push(new i(c,s,p,d,l?l.trim():"",f,!0,!0))}}}return n}},{key:"StreamLinks",value:function(t){var n=/"h264":\[\{"url":"([^\"]+)"/.exec(t),r=n&&n[1]?n[1].replace(/\\/g,""):"";return r.includes(".m3u")||new s({},[]),r.startsWith("/")&&(r=e.host+r),new s({auto:r},this.Playlist(t))}},{key:"Menu",value:function(t){var n=e.host,r=[new o("Новейшее",n+"/newest"),new o("Лучшие",n+"/best/weekly"),new o("В тренде",n)],a=[new o("Русское",n+"/categories/russian"),new o("Секс втроем",n+"/categories/threesome"),new o("Азиатское",n+"/categories/asian"),new o("Анал",n+"/categories/anal"),new o("Арабское",n+"/categories/arab"),new o("АСМР",n+"/categories/asmr"),new o("Бабки",n+"/categories/granny"),new o("БДСМ",n+"/categories/bdsm"),new o("Би",n+"/categories/bisexual"),new o("Большие жопы",n+"/categories/big-ass"),new o("Большие задницы",n+"/categories/pawg"),new o("Большие сиськи",n+"/categories/big-tits"),new o("Большой член",n+"/categories/big-cock"),new o("Британское",n+"/categories/british"),new o("В возрасте",n+"/categories/mature"),new o("Вебкамера",n+"/categories/webcam"),new o("Винтаж",n+"/categories/vintage"),new o("Волосатые",n+"/categories/hairy"),new o("Голые мужчины одетые женщины",n+"/categories/cfnm"),new o("Групповой секс",n+"/categories/group-sex"),new o("Гэнгбэнг",n+"/categories/gangbang"),new o("Дилдо",n+"/categories/dildo"),new o("Домашнее порно",n+"/categories/homemade"),new o("Дрочка ступнями",n+"/categories/footjob"),new o("Женское доминирование",n+"/categories/femdom"),new o("Жиробасина",n+"/categories/ssbbw"),new o("Жопа",n+"/categories/ass"),new o("Застряла",n+"/categories/stuck"),new o("Знаменитость",n+"/categories/celebrity"),new o("Игра",n+"/categories/game"),new o("История",n+"/categories/story"),new o("Кастинг",n+"/categories/casting"),new o("Комический",n+"/categories/comic"),new o("Кончина",n+"/categories/cumshot"),new o("Кремовый пирог",n+"/categories/creampie"),new o("Латина",n+"/categories/latina"),new o("Лесбиянка",n+"/categories/lesbian"),new o("Лизать киску",n+"/categories/eating-pussy"),new o("Любительское порно",n+"/categories/amateur"),new o("Массаж",n+"/categories/massage"),new o("Медсестра",n+"/categories/nurse"),new o("Межрасовый секс",n+"/categories/interracial"),new o("МИЛФ",n+"/categories/milf"),new o("Милые",n+"/categories/cute"),new o("Минет",n+"/categories/blowjob"),new o("Миниатюрная",n+"/categories/petite"),new o("Миссионерская поза",n+"/categories/missionary"),new o("Монахиня",n+"/categories/nun"),new o("Мультфильмы",n+"/categories/cartoon"),new o("Негритянки",n+"/categories/black"),new o("Немецкое",n+"/categories/german"),new o("Офис",n+"/categories/office"),new o("Первый раз",n+"/categories/first-time"),new o("Пляж",n+"/categories/beach"),new o("Порно для женщин",n+"/categories/porn-for-women"),new o("Реслинг",n+"/categories/wrestling"),new o("Рогоносцы",n+"/categories/cuckold"),new o("Романтический",n+"/categories/romantic"),new o("Свингеры",n+"/categories/swingers"),new o("Сквирт",n+"/categories/squirting"),new o("Старик",n+"/categories/old-man"),new o("Старые с молодыми",n+"/categories/old-young"),new o("Тинейджеры (18+)",n+"/categories/teen"),new o("Толстушки",n+"/categories/bbw"),new o("Тренажерный зал",n+"/categories/gym"),new o("Узкая киска",n+"/categories/tight-pussy"),new o("Французское",n+"/categories/french"),new o("Футанари",n+"/categories/futanari"),new o("Хардкор",n+"/categories/hardcore"),new o("Хенджоб",n+"/categories/handjob"),new o("Хентай",n+"/categories/hentai"),new o("Японское",n+"/categories/japanese")],i=r.find((function(e){return t.includes(e.playlist_url)})),c=a.find((function(e){return t.includes(e.playlist_url)}));return[new o("Поиск",n+"/search","search_on"),new o("Сортировка: "+(i?i.title:"В тренде"),"submenu",void 0,r),new o("Категория: "+(c?c.title:"Все"),"submenu",void 0,a)]}}]);var t}(),n.host="https://ru.xhamster.com",n),f=new l,d=new u,h=new p;window.AdultJS={Menu:function(){return[{title:"pornhub.com",playlist_url:l.host+"/video"},{title:"xhamster.com",playlist_url:p.host},{title:"bongacams.com",playlist_url:u.host}]},Invoke:function(e){return e.startsWith(u.host)?d.Invoke(e):e.startsWith(l.host)?f.Invoke(e):e.startsWith(p.host)?h.Invoke(e):"unknown site"}}}();